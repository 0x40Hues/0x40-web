<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" >
    <!-- 
    TODO:
        Keep arraybuffer in mem, load AudioBuffer as needed?
        Volume controls
        Prettier ui
        Song shuffle
        Image pause / manual advance
        Different colour palettes
    -->
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>0x40</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <link rel="stylesheet" href="style.css">
        <script type="text/javascript" src="js/0x40.js"></script>
        <script type="text/javascript" src="js/waifus.js"></script>
        <script type="text/javascript" src="js/waifuCanvas.js"></script>
        <script type="text/javascript" src="js/audioUtils.js"></script>
        <script type="text/javascript" src="lib/zip.js"></script>
        <script type="text/javascript" src="lib/zip-fs.js"></script>
        <script type="text/javascript">
            window.onload = function() {
                waifus.config = { respacks: ["respacks/Defaults_v5.0.zip",
                                             "respacks/HuesMixA.zip"],
                                   preloadLoop: "madeon_preloop.mp3",
                                   preloadOutro: "madeon_preout.mp3",
                                   firstSong: "Madeon - Finale"
                                };
                waifus.init();
            };
        </script>
    </head>
    <body>
        <div id="preloader">
            0x00
        </div>
        <div class="ui" id="beets">
            <div class="beetView"      id="beetLeft"></div>
            <div class="beetView fade" id="beetAccent">X</div>
            <div class="beetView"      id="beetRight"></div>
        </div>
        <canvas id="waifu" width="1280" height="720"></canvas>
        <div class="ui" id="controls">
            <a href="#" onclick="void(audio.stop());">stop</a>
            <a href="#" onclick="void(audio.play());">play</a>
            <a href="#" onclick="void(audio.prev());">prev</a>
            <a href="#" onclick="void(audio.next());">next</a>
            <div id="beatCount">B=0x0000</div>
            <div id="timer">T=0x0000</div>
            <div id="songname">Madeon - Finale</div>
            <div id="waifuName">Megumi</div>
            <div id="colourName">white</div>
        </div>
    </body>
</html>